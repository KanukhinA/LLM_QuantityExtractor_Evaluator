{
  "timestamp": "20251224_013948",
  "model_name": "Qwen_Qwen2.5-1.5B-Instruct_20251204",
  "reevaluated_from": "results/results_Qwen_Qwen2.5-1.5B-Instruct_20251204_011804.csv",
  "parsing_error_rate": 0.31,
  "parsing_errors_count": 31,
  "quality_metrics": {
    "массовая доля": {
      "средняя_точность": 0.016069295101553166,
      "precision": 0.027237354085603113,
      "recall": 0.0330188679245283,
      "f1": 0.029850746268656716,
      "tp": 7,
      "fp": 250,
      "fn": 205,
      "количество_сравнений": 93,
      "ошибки": [
        "Вещество Si: предсказано [28.0, None], истина отсутствует",
        "Вещество Fe: предсказано [5.0, None], истина отсутствует",
        "Вещество Mg: предсказано [12.0, None], истина отсутствует",
        "Вещество K: предсказано 0.2, истина отсутствует",
        "Вещество Na: предсказано 0.08, истина отсутствует",
        "Вещество Cl: предсказано 0.04, истина отсутствует",
        "Вещество Al: предсказано [10.0, None], истина отсутствует",
        "Вещество Ca: предсказано [40.0, 48.0], истина отсутствует",
        "Вещество K2O: предсказано 20.0, истина [29.0, 31.0]",
        "Вещество P2O5: предсказано [20.0, None], истина [19.0, 21.0]"
      ]
    },
    "прочее": {
      "средняя_точность": 0.053826994518483884,
      "precision": 0.0918918918918919,
      "recall": 0.2,
      "f1": 0.12592592592592594,
      "tp": 34,
      "fp": 336,
      "fn": 136,
      "количество_сравнений": 94,
      "ошибки": [
        "Параметр масса нетто: предсказано 800.0, истина отсутствует",
        "Параметр объем нетто единицы: предсказано 10.0, истина отсутствует",
        "Параметр количество поддонов: предсказано 100.0, истина отсутствует",
        "Параметр масса брутто: предсказано 1000.0, истина отсутствует",
        "Параметр марка: предсказано нфс, истина отсутствует",
        "Параметр количество мешков: предсказано 500.0, истина отсутствует",
        "Параметр объем нетто единицы: предсказано 10.0, истина отсутствует",
        "Параметр количество поддонов: предсказано 20.0, истина отсутствует",
        "Параметр масса брутто: предсказано 1050.0, истина отсутствует",
        "Параметр марка: предсказано npks-8, истина npks-8 (npk 8:20:30)"
      ]
    }
  },
  "parsing_errors": [
    "Текст #9: невалидный JSON. Ответ: МАССОВАЯ ДОЛЯ НЕТТО ЭТИЛОНИЯ, % - 10; - МАССОВАЯ ДОЛЯ БРОТТО ЭТИЛОНИЯ, % - 1050; - МАССОВАЯ ДОЛЯ КАЛИЯ В ПЕРЕСЧЕТЕ НА К2О, % - 20; - МАССОВАЯ ДОЛЯ МГА, % - 0.5; - МАССОВАЯ ДОЛЯ САМПЛ, % - 0.5; - МАССОВАЯ ДОЛЯ КАЛЦИЯ В ПЕРЕСЧЕТЕ НА К2О, % - 30; - МАССОВАЯ ДОЛЯ СОЛЮТ, % - 0.5; - МАССОВАЯ ДОЛЯ МАГНЕЗИЯ В ПЕРЕСЧЕТЕ НА К2О, % - 0.5; - МАССОВАЯ ДОЛЯ СОЛЮТ, % - 0.5; - МАССОВАЯ ДОЛЯ СОЛЮТ, % - 0.5; - МАССОВАЯ ДОЛЯ СОЛЮТ, % - 0.5; - МАССОВАЯ ДОЛЯ СОЛЮТ, % - 0.5; - МАССОВАЯ ДОЛЯ СОЛЮТ, % - 0.5; - МАССОВАЯ",
    "Текст #11: невалидный JSON. Ответ: 100% НЕТТО, 100% БРУТТО, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ, 100% КОМПОЗИЦИЯ,",
    "Текст #15: невалидный JSON. Ответ: Массовая доля азота в пересчете на азотистый гликерин: 27%; Массовая доля фосфора в пересчете на фосфат: 6%; Массовая доля калия в пересчете на кальция: 6%; Массовая доля сульфата калия в пересчете на сульфат: 2%. : Масса нетто единицы: 50 кг ; Масса брутто единицы: 1020 кг ; Количество поддонов: 20 шт.; Количество мешков: 1000 шт.; Объем нетто единицы: 10 л; Марка: AZOFOCSKA.SLOJNOE.AZOTNO-FOSFORNO-KALIYNOE.UDORBELENIE.GRANULIRUENNYY.PRODUCT.BEZ.MECHANIČESKIE.PRIMESHEY.SODECHENIYE.MASSEVOY.DOLI",
    "Текст #16: невалидный JSON. Ответ: 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21",
    "Текст #20: невалидный JSON. Ответ: МАРКА: N7-P20-K30-S3. СТАНДАРТ: ТУ 2184-037-32496445-02. \n\nОтвет:\n\n```json\n\n{\n  \"массовая доля\": [\n    {\"вещество\": \"Общего азота\", \"массовая доля\": [16, 16]},\n    {\"вещество\": \"Общих фосфатов\", \"массовая доля\": [16, null]},\n    {\"вещество\": \"Калия в пересчёте на К2О\", \"массовая доля\": [16, null]},\n    {\"вещество\": \"Общего азота\", \"массовая доля\": [16, 16]},\n    {\"вещество\": \"Общих фосфатов\", \"массовая доля\": [16, null]},\n    {\"вещество\": \"Калия в пересчёте на К2О\", \"массовая доля\": [16, null]},",
    "Текст #21: невалидный JSON. Ответ: , МИНЕРАЛЬНОЕ УДОБРЕНИЕ ТУКОСМЕСЬ \"FOSAMOFERT\" СОДЕРЖАЩИЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА ФОСФОР И АЗОТ, ГРАНУЛИРОВАННОЕ,В 22 БИГ-БЭГАХ, МИНЕРАЛЬНОЕ УДОБРЕНИЕ ТУКОСМЕСЬ \"FOSAMOFERT\" СОДЕРЖАЩИЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА ФОСФОР И АЗОТ, ГРАНУЛИРОВАННОЕ,В 22 БИГ-БЭГАХ, МИНЕРАЛЬНОЕ УДОБРЕНИЕ ТУКОСМЕСЬ \"FOSAMOFERT\" СОДЕРЖАЩИЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА ФОСФОР И АЗОТ, ГРАНУЛИРОВАННОЕ,В 22 БИГ-БЭГАХ, МИНЕРАЛЬНОЕ УДОБРЕНИЕ ТУКОСМЕСЬ \"FOSAMOFERT\" СОДЕРЖАЩИЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА ФОСФОР И АЗОТ, ГРАНУЛИРОВАННОЕ,В ",
    "Текст #32: невалидный JSON. Ответ: КАЛИЙ СЕРНОКИСЛЫЙ ТЕХНИЧЕСКИЙ\n\nОтвет:\n\n```python\nimport re\n\ndef extract_numerical_features(text):\n    features = []\n    \n    # Extracting mass fraction of elements in the text\n    element_mass_fractions = re.findall(r'(\\w+) \\((\\d+\\.\\d+)\\%\\)', text)\n    for element, mass_fraction in element_mass_fractions:\n        features.append({\"вещество\": element, \"массовая доля\": float(mass_fraction)})\n    \n    # Extracting other numerical values from the text\n    other_numerical_values = re.findall(r'\\b\\d+(",
    "Текст #36: невалидный JSON. Ответ: СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ БОЕННОГО ПРИМЕНЕНИЯ. : СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ БОЕННОГО ПРИМЕНЕНИЯ. : СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ БОЕННОГО ПРИМЕНЕНИЯ. : СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ БОЕННОГО ПРИМЕНЕНИЯ. : СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ),",
    "Текст #37: невалидный JSON. Ответ: СУЛЬФАТ АММОНИЯ МАРКИ: ГРАНУЛИРОВАННЫЙ / МАССОВАЯ ДОЛЯ АЗОТА -20,5 +/- 0,5% ТУ-2181-694-00209438-2015, НИТРАТЫ ОТСУТСТВУЮТ.. : СУЛЬФАТ АММОНИЯ МАРКИ: ГРАНУЛИРОВАННЫЙ / МАССОВАЯ ДОЛЯ АЗОТА -20,5 +/- 0,5% ТУ-2181-694-00209438-2015, НИТРАТЫ ОТСУТСТВУЮТ.. : СУЛЬФАТ АММОНИЯ МАРКИ: ГРАНУЛИРОВАННЫЙ / МАССОВАЯ ДОЛЯ АЗОТА -20,5 +/- 0,5% ТУ-2181-694-00209438-2015, НИТРАТЫ ОТСУТСТВУЮТ.. : СУЛЬФАТ АММОНИЯ МАРКИ: ГРАНУЛИРОВАННЫЙ / МАССОВАЯ ДОЛЯ АЗОТА -20,5 +/- 0,5% ТУ-2181-694-00209438-2015, НИТРАТЫ ОТСУТСТВ",
    "Текст #38: невалидный JSON. Ответ: МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРКА: NPK(S) 13:0:44(1)+1MGO. МАРК",
    "Текст #40: невалидный JSON. Ответ: МАССОВАЯ ДОЛЯ АЗОТА В ПЕРЕСЧЕТЕ НА СУХОЙ БЕЗВОДНЫЙ ПРОДУКТ = 16% , МАССОВАЯ ДОЛЯ ФОСФОРА В ПЕРЕСЧЕТЕ НА СУХОЙ БЕЗВОДНЫЙ ПРОДУКТ = 16% , МАССОВАЯ ДОЛЯ КАЛИЯ В ПЕРЕСЧЕТЕ НА СУХОЙ БЕЗВОДНЫЙ ПРОДУКТ = 16% , МАССОВАЯ ДОЛЯ НИТРОАММОФОСКА В ПЕРЕСЧЕТЕ НА СУХОЙ БЕЗВОДНЫЙ ПРОДУКТ = 16% , МАССОВАЯ ДОЛЯ БОЛА В ПЕРЕСЧЕТЕ НА СУХОЙ БЕЗВОДНЫЙ ПРОДУКТ = 16% , МАССОВАЯ ДОЛЯ СУХОЙ БЕЗВОДНОГО ПРОДУКТА = 100%\n\nОтвет:\n\n{\n  \"массовая доля\": [\n    {\"вещество\": \"Н\", \"массовая доля\": [26, 28]},\n    {\"вещество\": \"P2O5\", \"",
    "Текст #41: невалидный JSON. Ответ: МАССОВАЯ ДОЛЯ К2О В ПЕРЕСЧЕТЕ НА К2О = 20 % ; МАССА НЕТТО ЭТИСТА = 50 КГ ; МАССА БРУТТО ЭТИСТА = 100 КГ ; МАССА НЕТТО ЕДИНИЦЫ = 50 КГ ; МАССА БРУТТО ЕДИНИЦЫ = 100 КГ ; КОЛИЧЕСТВЕННОСТЬ ПОДДОНА = 20 ШТ ; КОЛИЧЕСТВЕННОСТЬ МЕШКОВ = 1000 ШТ ; КОЛИЧЕСТВЕННОСТЬ БИГ БЭГОВ = 16 БИГ БЭГОВ ; КОЛИЧЕСТВЕННОСТЬ ПОДДОНА = 20 ШТ ; КОЛИЧЕСТВЕННОСТЬ МЕШКОВ = 1000 ШТ ; КОЛИЧЕСТВЕННОСТЬ БИГ БЭГОВ = 16 БИГ БЭГОВ ; МАССА НЕТТО ЭТИСТА = 50 КГ ; МАССА БРУТТО ЭТИСТА = 100 КГ ; МАССА НЕТТО ЕДИНИЦЫ = 50 КГ ; МАССА БРУТТО",
    "Текст #42: невалидный JSON. Ответ: КАЧЕСТВЕННОСТЬ: 100,0 МАС. %, КОЛИЧЕСТВЕННОСТЬ: 100,0 МАС. %, МАССА БРУТТО: 1050,0 КГ, МАССА НЕТТО: 1000,0 КГ, КОЛИЧЕСТВО МЕШКОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ШТ., КОЛИЧЕСТВО ПОДДОНОВ: 1000,0 ",
    "Текст #43: невалидный JSON. Ответ: , МАССА НЕТТО ЕДИНЦЫ - 50 КГ, МАССА БРЮТО ЕДИНЦЫ - 1020 КГ, КОЛИЧЕСТВО ПОДДОНОВ - 20, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000, КОЛИЧЕСТВО МЕШКОВ - 1000",
    "Текст #46: невалидный JSON. Ответ: ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ ВОЕННОГО ПРИМЕНЕНИЯ. СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ ВОЕННОГО ПРИМЕНЕНИЯ. СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ ВОЕННОГО ПРИМЕНЕНИЯ. СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ ВОЕННОГО ПРИМЕНЕНИЯ. СУЛЬФАТ АММОНИЯ КРИСТАЛЛИЧЕСКИЙ (УДОБРЕНИЕ), ТУ 2181-073-05761695-2016, 22000.00.КГ НЕ ДЛЯ ВОЕННО",
    "Текст #48: невалидный JSON. Ответ: МАССОВАЯ ДОЛЯ АЗОТА В ПЕРЕСЧЕТЕ НА СУХОЙ БЕЗВОДНЫЙ ПРОДУКТ 33%;Масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная смесь;масло-фосфатная сме",
    "Текст #49: невалидный JSON. Ответ: 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21 %, 21",
    "Текст #50: невалидный JSON. Ответ: ПО 50 КГ, МАРКА Б 25 КГ ПО 50 КГ, МАРКА В 25 КГ ПО 50 КГ, МАРКА С 25 КГ ПО 50 КГ, МАРКА Т 25 КГ ПО 50 КГ, МАРКА Э 25 КГ ПО 50 КГ, МАРКА Ф 25 КГ ПО 50 КГ, МАРКА Г 25 КГ ПО 50 КГ, МАРКА Л 25 КГ ПО 50 КГ, МАРКА М 25 КГ ПО 50 КГ, МАРКА Н 25 КГ ПО 50 КГ, МАРКА О 25 КГ ПО 50 КГ, МАРКА П 25 КГ ПО 50 КГ, МАРКА Р 25 КГ ПО 50 КГ, МАРКА С 25 КГ ПО 50 КГ, МАРКА Т 25 КГ ПО 50 КГ, МАРКА Э 25 КГ ПО 50 КГ, МАРКА Ф 25 КГ ПО 50 КГ, МАРКА Г 25 КГ ПО 50 КГ, МАРКА Л 25 КГ ПО 50 КГ, МАРКА М 25 КГ ПО 50 КГ, МАРКА Н 25",
    "Текст #61: невалидный JSON. Ответ: МЕСТО: Москва, Россия\n\nОтвет:\n\n```python\nimport re\n\ndef extract_numerical_features(text):\n    features = []\n    \n    # Extracting mass fraction of elements\n    element_mass_fractions = re.findall(r'(\\w+) \\((\\d+\\.\\d+)\\%\\)', text)\n    for element, percentage in element_mass_fractions:\n        features.append({\"вещество\": element, \"массовая доля\": [float(percentage[:-1]), None]})\n    \n    # Extracting quantity of products\n    product_quantities = re.findall(r'(\\d+(?:\\.\\d*)?)', text)\n    if 'кг' in ",
    "Текст #64: невалидный JSON. Ответ: ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ОРГАНОМИНЕРАЛЬНОЕ ГУМИ-20 КАЛИЙНЫЙ, ПАСТА, 200 ГР ",
    "Текст #65: невалидный JSON. Ответ: 1000 КГ\n\nОтвет:\n\n```json\n{\n  \"массовая доля\": [\n    {\"вещество\": \"C\", \"массовая доля\": [12, 14]},\n    {\"вещество\": \"H\", \"массовая доля\": [1, 2]},\n    {\"вещество\": \"O\", \"массовая доля\": [16, null]},\n    {\"вещество\": \"N\", \"массовая доля\": [14, null]},\n    {\"вещество\": \"P\", \"массовая доля\": [31, null]},\n    {\"вещество\": \"S\", \"массовая доля\": [32, null]},\n    {\"вещество\": \"Ca\", \"массовая доля\": [56, null]},\n    {\"вещество\": \"Fe\", \"массовая доля\": [56, null]},\n    {\"вещество\": \"Mg\", \"массовая доля\": ",
    "Текст #70: невалидный JSON. Ответ: ** \n\n```json\n{\n  \"массовая доля\": [\n    {\"вещество\": \"N\", \"массовая доля\": [26, 28]},\n    {\"вещество\": \"P2O5\", \"массовая доля\": [20, null]},\n    {\"вещество\": \"K2O\", \"массовая доля\": 20},\n    {\"вещество\": \"S\", \"массовая доля\": 3},\n    {\"вещество\": \"NH4+\", \"массовая доля\": [null, 2]}\n  ],\n  \"прочее\": [\n    {\"параметр\": \"масса нетто единицы\", \"масса\": 50, \"единица\": \"кг\"},\n    {\"параметр\": \"масса брутто\", \"масса\": 1020, \"единица\": \"кг\"},\n    {\"параметр\": \"количество поддонов\", \"количество\": 20, \"ед",
    "Текст #77: невалидный JSON. Ответ: МИКРОЭЛЕМЕНТАНЫ: МИКРОНУМОНИД - 0,01%, МИКРОЦИНК - 0,01%, МИКРОКЛАСТИД - 0,01%, МИКРОФЕНИД - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, МИКРОФЕНИДА - 0,01%, М",
    "Текст #85: невалидный JSON. Ответ: МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 - 51,0% ХЛОР(CI)-1.0%, ГИГРОСКОПИЧЕН. : МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 - 51,0% ХЛОР(CI)-1.0%, ГИГРОСКОПИЧЕН. : МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 - 51,0% ХЛОР(CI)-1.0%, ГИГРОСКОПИЧЕН. : МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 - 51,0% ХЛОР(CI)-1.0%, ГИГРОСКОПИЧЕН. : МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 - 51,0% ХЛОР(CI)-1.0%, ГИГРОСКОПИЧЕН. : МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 - 51,0% ХЛОР(CI)-1.0%, ГИГРОСКОПИЧЕН. : МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-51.0%, SO4 -",
    "Текст #86: невалидный JSON. Ответ: 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА B ПЕРЕСЧЕТЕ НА СУХОЙ ПРОДУКТ ТУ 2181-060-00205311-2014.. : 21 % АЗОТА",
    "Текст #87: невалидный JSON. Ответ: МАССОВАЯ ДОЛЯ КАЛИЯ (К2О)-50.0%, SO4 - 51.0% ХЛОР( CI)-1.0%. \n\nОтвет:\n\n```json\n\n{\n  \"массовая доля\": [\n    {\"вещество\": \"Калия\", \"массовая доля\": [50.0, null]},\n    {\"вещество\": \"хлора\", \"массовая доля\": [1.0, null]},\n    {\"вещество\": \"сульфата калия\", \"массовая доля\": [26, 28]},\n    {\"вещество\": \"сульфата калия\", \"массовая доля\": [20, null]},\n    {\"вещество\": \"сульфата калия\", \"массовая доля\": [20, null]},\n    {\"вещество\": \"сульфата калия\", \"массовая доля\": [20, null]},\n    {\"вещество\": \"сульфа",
    "Текст #88: невалидный JSON. Ответ: , УДОБРЕНИЕ МИНЕРАЛЬНОЕ ГРАНУЛИРОВАHНОЕ NP (S) 20:20 (14), СОДЕРЖАЩЕЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕММЕНТА АЗОТ-20%, ФОСФОР-20%, В 65 БИГ-БЭГАХ, УДОБРЕНИЕ МИНЕРАЛЬНОЕ ГРАНУЛИРОВАHНОЕ NP (S) 20:20 (14), СОДЕРЖАЩЕЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕММЕНТА АЗОТ-20%, ФОСФОР-20%, В 65 БИГ-БЭГАХ, УДОБРЕНИЕ МИНЕРАЛЬНОЕ ГРАНУЛИРОВАHНОЕ NP (S) 20:20 (14), СОДЕРЖАЩЕЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕММЕНТА АЗОТ-20%, ФОСФОР-20%, В 65 БИГ-БЭГАХ, УДОБРЕНИЕ МИНЕРАЛЬНОЕ ГРАНУЛИРОВАHНОЕ NP (S) 20:20 (14), СОДЕРЖАЩЕЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕММЕНТА АЗОТ-20%",
    "Текст #90: невалидный JSON. Ответ: МАРКИ НПК 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, 16-16-16, ",
    "Текст #92: невалидный JSON. Ответ: , УДОБРЕНИЕ ПОДКОРМКИ РАСТЕНИЙ, ПРИМЕНЯЕТСЯ В СЕЛЬСКОМ ХОЗЯЙСТВЕ В КАЧЕСТВЕ ФОСФОРНО- КАЛИЮ- КАЛЬЦИЙНОГО УДОБРЕНИЯ ПОДКОРМКИ РАСТЕНИЙ. НЕ ДЛЯ ВЕТЕРИНАРИИ, НЕИСПОЛ ИСПОЛЯЕТСЯ В ФАРМАЦЕВТИЧЕСКИХ ЦЕЛЯХ НЕ ЯВЛЯЕТСЯ НАРКОТИЧЕСКИМ, ПСИХОТРОПНЫМ ВЕЩЕСТВОМ, НЕ ЯВЛЯЕТСЯ ПИЩЕВОЙ ДОБАВКОЙ: АММОНИЙ КАЛЬЦИЙ НИТРАТ МАРКА А 25 КГ ВОДОРАСТВОРИМЫЙ НИТРАТ КАЛЬЦИЯ РАЗРАБОТАН ДЛЯ ПРИМЕНЕНИЯ В ТЕПЛИЦАХ ДЛЯ УДОБРЕНИЯ РАЗЛИЧНЫХ КУЛЬТУР. УЛУЧШАЕТ ЛЕЖКОСТЬ ПЛОДОВ, ПОВЫШАЕТ КАЧЕСТВО ТОМАТОВ, УВЕЛИЧИВАЕТ УСТОЙЧИВОСТЬ ПЛОД",
    "Текст #93: невалидный JSON. Ответ: МЕДЛЕННО-СОБОЛЕВЫЙ ЦВЕТ, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, СОБОЛЕВЫЙ ОТТЕНок, ",
    "Текст #99: невалидный JSON. Ответ: НАТРИЙ АЗОТНОКИСЛЫЙ ТЕХНИЧЕСКИЙ, НАТРИЕВАЯ СЕЛИТРА\n\nОтвет:\n\n```python\nimport re\n\ndef extract_numerical_features(text):\n    features = []\n    \n    # Extracting mass fraction of elements\n    element_mass_fractions = re.findall(r'(\\w+) \\((\\d+\\.\\d+)\\%\\)', text)\n    for element, percentage in element_mass_fractions:\n        features.append({\"вещество\": element, \"массовая доля\": [float(percentage[:-1]), None]})\n    \n    # Extracting quantity of goods\n    quantities = re.findall(r'(\\d+(?:\\.\\d*)?)', tex"
  ],
  "total_samples": 100,
  "valid_json_count": 69,
  "invalid_json_count": 31,
  "gemini_analysis": {
    "status": "success",
    "analysis": "Как эксперт по оценке качества работы языковых моделей, я провел анализ представленных результатов тестирования модели Qwen_Qwen2.5-1.5B-Instruct.\n\n**Резюме и общая оценка:**\nМодель демонстрирует крайне низкое качество выполнения задачи. Метрики F1 менее 3% для категории \"массовая доля\" и около 12.6% для \"прочее\" указывают на фундаментальные проблемы как с извлечением информации, так и с генерацией выходного формата. Значительное количество ошибок парсинга JSON и галлюцинации данных подтверждают это. Модель Qwen 1.5B, будучи относительно небольшой, часто испытывает трудности с соблюдением строгих структурных требований и точным извлечением без специализированного дообучения.\n\n---\n\n### 1. Характерные ошибки модели\n\n*   **Крайне низкая точность извлечения:** Метрики Precision, Recall и F1 в обеих категориях (особенно в \"массовой доле\") находятся на уровне случайного угадывания или даже ниже. Это означает, что модель либо почти ничего не извлекает, либо извлекает много неверного, либо и то, и другое.\n*   **Галлюцинации (ложные срабатывания):** Примеры ошибок качества (\"предсказано [значение], истина отсутствует\") явно показывают, что модель генерирует данные, которых нет во входном тексте. Эти \"предсказания\" часто выглядят как правдоподобные, но произвольные значения (например, атомные массы или округленные числа).\n*   **Повторения и зацикливание:** В примерах JSON-ошибок (Текст #86, #41, #93, #48) модель явно зацикливается, повторяя одни и те же фразы или фрагменты текста много раз. Это признак того, что модель \"застряла\" в генерации и не может найти подходящий выход.\n*   **Проблемы с JSON-форматом:** Модель либо вообще не генерирует JSON (как в примерах с повторениями), либо генерирует неполный/невалидный JSON (Текст #65). В этом примере она пытается начать JSON, но обрывается, и даже те части, что есть, выглядят как шаблон или общие данные, а не извлеченные из конкретного текста.\n*   **Смешение форматов:** В некоторых ответах модель генерирует обычный текст перед попыткой формирования JSON, что указывает на недостаточно строгое следование инструкциям по формату вывода.\n*   **Непонимание задачи извлечения:** Судя по галлюцинациям, модель, по-видимому, не понимает, что ее задача — *извлекать* информацию из предоставленного текста, а не *генерировать* правдоподобные значения на основе общего контекста или знаний о предметной области.\n\n### 2. Причины ошибок парсинга JSON\n\n*   **Недостаточная тренировка на строгих JSON-форматах:** Для небольших моделей (1.5B) требуется либо очень точный и подробный промпт, либо дообучение на большом количестве примеров с требуемой JSON-структурой. Без этого модель может не усвоить строгие правила синтаксиса (кавычки, скобки, запятые, типы данных).\n*   **Ограниченная способность к длинным и структурированным ответам:** Небольшие модели часто испытывают трудности с поддержанием целостности сложной структуры на протяжении всего ответа. Они могут \"терять\" контекст середины генерации JSON, что приводит к неполным ответам или синтаксическим ошибкам.\n*   **Проблемы с генерацией закрывающих элементов:** Модель часто не может завершить объекты или массивы, оставляя JSON неполным (как в примере #65).\n*   **Нечеткий промпт (предположительно):** Если промпт не содержит очень строгих инструкций по формату \"ТОЛЬКО JSON\", модель может отклоняться от него.\n*   **\"Застревание\" в генерации:** Повторяющиеся фрагменты текста, не являющиеся JSON, возникают, когда модель не может найти подходящий токен для продолжения или завершения ответа и входит в цикл.\n\n### 3. Причины ошибок в извлечении данных\n\n*   **Непонимание контекста и предметной области:** Хотя модель является \"instruct\", без дообучения на конкретных данных она может плохо понимать специфические термины и числовые значения в контексте промышленной документации или химических анализов.\n*   **Низкая точность определения сущностей (NER):** Модель не способна точно идентифицировать, что является \"веществом\", \"массовой долей\", \"массой нетто\" и т.д., и где их значения находятся в тексте.\n*   **Галлюцинации вместо извлечения:** Вместо того чтобы искать данные в тексте, модель, столкнувшись с незнакомой или сложной задачей, может генерировать правдоподобные, но вымышленные данные, используя свои общие знания. Это особенно характерно для небольших моделей, когда промпт недостаточно специфичен.\n*   **Недостаток примеров (Few-shot learning):** Если промпт не содержит достаточно демонстрационных примеров (few-shot examples), модель не получает достаточно \"подсказок\" о том, как именно извлекать и форматировать данные.\n\n### 4. Рекомендации по улучшению промпта (если промпт предоставлен)\n\n*   **1. Строгое указание формата JSON:**\n    *   Начать промпт с фразы: \"Ты — эксперт по извлечению структурированных данных. Твоя задача — проанализировать текст и извлечь указанную информацию, отвечая **СТРОГО в формате JSON**.\"\n    *   Явно указать, что **ничего, кроме JSON, не должно быть в ответе**. \"Ответ должен содержать **ТОЛЬКО** JSON-объект, без вводных фраз, пояснений или других символов.\"\n*   **2. Детальное описание JSON-схемы:**\n    *   Предоставить полную и чёткую JSON-схему с описанием каждого поля, его типа данных (строка, число, массив) и ожидаемого формата.\n    *   Пример:\n        ```json\n        {\n          \"массовая доля\": [\n            {\n              \"вещество\": \"строка (например, 'N', 'K2O')\",\n              \"массовая доля\": \"[число_от, число_до] или число (например, [20, 22] или 20.5)\"\n            }\n          ],\n          \"прочее\": {\n            \"параметр_1\": \"значение_1 (тип данных)\",\n            \"параметр_2\": \"значение_2 (тип данных)\"\n          }\n        }\n        ```\n*   **3. Примеры (Few-shot learning):**\n    *   Это **критически важно** для данной модели. Включите 1-3 (или больше, если возможно) полных примера: \"Входной текст: [пример текста] -> Ожидаемый JSON: [корректный JSON для этого текста]\".\n    *   Примеры должны охватывать различные сценарии: наличие всех данных, отсутствие некоторых данных (с `null` или отсутствующим полем).\n*   **4. Инструкция по обработке отсутствующих данных:**\n    *   \"Если какой-либо параметр или вещество не найдены в тексте, соответствующее поле должно быть либо **опущено**, либо его значение должно быть `null`.\" (Предпочтительнее опускать поле, чтобы избежать галлюцинаций `null`).\n    *   \"Модель не должна генерировать значения, которых нет во входном тексте.\"\n*   **5. Конкретизация извлечения:**\n    *   \"Извлекай **только** числовые значения и соответствующий текст, явно указанные в предоставленном тексте.\"\n    *   \"Если массовая доля указана как диапазон, извлекай оба значения. Если как одно число, используй его.\"\n*   **6. Использование системной роли (если поддерживается):**\n    *   Для моделей Qwen часто эффективно использовать `system` промпт для установки общих инструкций и формата, а `user` промпт для передачи конкретного текста на обработку.\n\n### 5. Рекомендации по настройке гиперпараметров\n\nГиперпараметр `reevaluated: true` не дает информации для настройки. Для улучшения качества необходимо работать со следующими:\n\n*   **Temperature (Температура):** **Уменьшить до 0.1 - 0.3.** Низкая температура делает ответы модели более детерминированными и менее склонными к галлюцинациям и творчеству, что критично для задачи извлечения.\n*   **Top-P / Top-K:** **Установить более низкие значения (например, `top_p=0.9`, `top_k=50` или ниже).** Это ограничивает словарный запас, из которого модель может выбирать следующее слово, снижая вероятность генерации случайных или несвязанных токенов.\n*   **Max New Tokens (Максимальное количество новых токенов):** Установите разумное ограничение, чтобы избежать бесконечных повторений, но достаточное для генерации полного JSON-объекта. Например, 512 или 1024 токена, в зависимости от ожидаемой сложности JSON.\n*   **Repetition Penalty (Штраф за повторения):** **Увеличить (например, до 1.1 - 1.3).** Это поможет бороться с зацикливанием и повторяющимися фрагментами текста, которые мы видели в ошибках парсинга.\n\n### 6. Общие рекомендации по улучшению качества\n\n1.  **Дообучение (Fine-tuning):** Это **самый эффективный** способ значительного улучшения качества для данной специфической задачи.\n    *   **Создайте размеченный датасет:** Пары (входной текст, ожидаемый корректный JSON-вывод). Чем больше таких примеров, тем лучше. Даже несколько сотен или тысяч хорошо размеченных примеров могут дать огромный прирост.\n    *   **Специализация:** Дообучение модели на ваших данных поможет ей лучше понимать терминологию, контекст и требуемый формат вывода.\n2.  **Использование более крупной модели:**\n    *   Модель Qwen 1.5B является относительно небольшой. Для сложных задач извлечения со строгими требованиями к формату более крупные модели (например, Qwen2-7B-Instruct, Llama-3-8B-Instruct или другие) обычно показывают значительно лучшие результаты, поскольку обладают большей способностью к рассуждению, пониманию инструкций и поддержанию структуры.\n3.  **Постобработка (Post-processing):**\n    *   Внедрите скрипты для проверки валидности JSON и исправления типичных ошибок (например, добавление закрывающих скобок, удаление повторяющихся фрагментов текста перед JSON).\n    *   Используйте библиотеки для парсинга JSON, чтобы убедиться, что вывод корректен. Если парсинг не удался, можно предпринять попытки восстановления или пометить ответ как ошибочный.\n4.  **Chain-of-Thought (CoT) или Multistep Prompting:**\n    *   Для очень сложных текстов можно попробовать разбить задачу для модели на несколько шагов в промпте. Например:\n        1.  \"Сначала извлеки все числовые значения и связанные с ними единицы/категории.\"\n        2.  \"Затем сопоставь их с требуемыми полями JSON-схемы.\"\n        3.  \"Наконец, сформируй JSON-объект.\"\n    *   Это может помочь модели последовательно выполнять задачу, но увеличит длину промпта и ответа.\n5.  **Улучшение качества входных данных:**\n    *   Убедитесь, что входные тексты максимально чистые, без лишнего шума или артефактов, которые могут сбивать модель.\n    *   Если есть вариации в написании одних и тех же параметров, попробуйте стандартизировать их на этапе предобработки или явно указать в промпте, какие варианты допустимы.\n\nНа основе текущих результатов, основной упор следует сделать на дообучение модели или переход на более мощную модель, а также на значительном улучшении промпта с включением подробных few-shot примеров.",
    "model_used": "gemini-2.5-flash"
  }
}