{
  "model_name": "gemma-3-27b-it",
  "timestamp": "20260128_125241",
  "analysis": "Отлично, проведем детальный анализ результатов тестирования модели gemma-3-27b-it.\n\n**Общая оценка:**\nМодель демонстрирует удовлетворительную способность к извлечению структурированных данных, особенно учитывая сложность задачи с различными типами числовых характеристик и форматов представления. Отсутствие ошибок парсинга JSON является большим плюсом, указывая на хорошую способность модели следовать формату вывода. Однако, метрики F1-score (72.03% для \"массовой доли\" и 61.18% для \"прочего\") показывают, что есть значительный простор для улучшения, особенно в категории \"прочее\".\n\n---\n\n### 1. Характерные ошибки модели\n\nИсходя из предоставленных метрик и описания задачи, можно выделить следующие характерные ошибки:\n\n*   **Пропуски (Recall issues):** Метрики Recall (68.90% для \"массовой доли\" и 58.82% для \"прочего\") ниже Precision. Это означает, что модель **не извлекает все релевантные данные**, которые должна была бы найти. Особенно это заметно в категории \"прочее\", где почти половина потенциальных данных игнорируется.\n*   **Недостаточная точность категоризации (особенно в \"Прочее\"):** Категория \"прочее\" является сборной, и модель, вероятно, не всегда правильно определяет `параметр` или `единицу` для найденного численного значения. Высокая точность для \"массовой доли\" (Precision 75.46%) по сравнению с \"прочее\" (Precision 63.73%) подтверждает это. Модель может либо некорректно классифицировать данные в \"прочее\", либо пропускать их из-за нечетких паттернов.\n*   **Сложности с разнообразными форматами \"Прочее\":** В примерах \"прочее\" включает объем, количество единиц, концентрацию, стандарты, марки. Этот широкий спектр требует от модели понимания контекста и разнообразных паттернов, что, вероятно, является причиной низких F1 и Recall для этой категории.\n*   **Чувствительность к формулировкам:** Хотя промпт содержит хорошие примеры, модель может быть чувствительна к новым, слегка отличающимся формулировкам или синтаксическим конструкциям, особенно для \"прочих\" показателей, которые не были явно представлены в примерах.\n\n---\n\n### 2. Причины ошибок парсинга JSON\n\n*   **\"Ошибок парсинга не обнаружено.\"** Это отличный результат. Модель **успешно следует JSON-формату**, представленному в примерах. Это говорит о том, что она хорошо понимает структуру JSON, требуемые ключи (`массовая доля`, `прочее`, `вещество`, `массовая доля`, `параметр`, `количество`, `масса`, `объем`, `единица`, `значение`) и типы данных (числа, строки, массивы).\n*   Вероятные причины успеха:\n    *   Четкие и последовательные примеры JSON.\n    *   Инструкция \"Выведи json по аналогии с этими примерами\".\n    *   Сама модель gemma-3-27b-it, будучи instruction-tuned, хорошо обучена генерации структурированных данных.\n\n---\n\n### 3. Причины ошибок в извлечении данных\n\n*   **Недостаточное количество или разнообразие примеров для \"прочего\":** Хотя предоставлено 5 примеров, категория \"прочее\" очень обширна. Модель может не иметь достаточного количества примеров, чтобы обобщить все возможные паттерны для извлечения \"объема нетто единицы\", \"массы п/э мешков\", \"концентрации\" в различных форматах и единицах.\n*   **Сложность распознавания паттернов с единицами измерения:** Разнообразие единиц (%, кг, т, п/э мешки, л, г/л, мг/л) и их контекстуальная привязка к числовым значениям может быть сложной. Модель может некорректно связывать число с единицей или наоборот.\n*   **Отсутствие \"отрицательных\" примеров:** Промпт не содержит примеров того, *что не нужно извлекать*. Модель успешно игнорирует нерелевантную информацию (\"НЕ КУЛЬТУРНАЯ ЦЕННОСТЬ\" из примера 2), но это понимание может быть не всегда устойчивым.\n*   **Внутренняя неоднозначность естественного языка:** В некоторых случаях, числовые значения могут быть представлены так, что их категоризация требует глубокого семантического анализа, который LLM не всегда может выполнить идеально без явных указаний или дополнительных примеров.\n*   **Длинный промпт:** Хотя 11357 символов — это не экстремально много, но довольно длинно. Иногда очень длинные промпты могут приводить к \"потере внимания\" модели к инструкциям, особенно к деталям в середине или конце.\n\n---\n\n### 4. Рекомендации по улучшению промпта\n\n1.  **Расширить и уточнить примеры для \"прочего\":**\n    *   **Больше разнообразия:** Добавить примеры с другими типами \"прочих\" характеристик, которые часто встречаются, например, \"плотность\", \"температура\", \"pH\", \"размер гранул\" (если применимо).\n    *   **Сфокусироваться на проблемных подкатегориях:** Если есть конкретные типы \"прочего\" (например, \"концентрации в г/л\" или \"массы упаковки\"), которые часто пропускаются, добавить больше примеров именно для них.\n    *   **Явно показать, как обрабатывать диапазоны:** Хотя в примере 3 и 5 есть диапазоны, можно добавить в инструкцию явное правило: \"Для значений с 'не менее', 'не более', '+/-' используй массив [min, max], где null означает отсутствие границы.\"\n2.  **Уточнить правила для \"массовой доли\" и \"концентрации\":**\n    *   В примерах \"массовая доля\" всегда в `%`, а \"концентрация\" в `г/л` или `мг/л`. Можно явно указать: \"Массовую долю указывай только в %, концентрации – в г/л или мг/л. Если единица не % и не г/л/мг/л, это, скорее всего, 'прочее'.\"\n3.  **Добавить \"отрицательные\" примеры (опционально):** Включить в промпт 1-2 примера текста, где много чисел, но они не относятся к искомым категориям, и показать пустой JSON или JSON только с одним релевантным элементом. Это поможет модели лучше фильтровать информацию.\n4.  **Разбить длинные примеры на более мелкие (опционально):** Пример 1 очень большой и содержит много продуктов. Иногда для лучшего восприятия моделью можно давать более короткие, сфокусированные примеры для каждого типа извлечения. Однако, текущие примеры также демонстрируют способность модели обрабатывать комплексные тексты, что тоже ценно.\n5.  **Пересмотреть порядок инструкций:** Убедиться, что самые важные инструкции (формат JSON, основные категории) находятся в начале.\n\n---\n\n### 5. Рекомендации по настройке гиперпараметров\n\nТекущие гиперпараметры: `max_new_tokens=1024`, `model_name=\"gemma-3-27b-it\"`, `api_model=true`.\n\n1.  **Temperature (Температура):**\n    *   **Критично:** Для задач структурированного извлечения данных **температура должна быть очень низкой** (например, **0.1 - 0.3**). Высокая температура приводит к \"креативности\", которая недопустима для фактологического извлечения. Модель должна быть детерминированной и следовать паттернам.\n    *   *Действие:* Установите `temperature` в диапазоне от 0.1 до 0.3.\n2.  **Top_p и Top_k:**\n    *   Эти параметры контролируют разнообразие генерируемых токенов. Для повышения точности и предсказуемости рекомендуется также использовать низкие значения.\n    *   *Действие:* Попробуйте `top_p` около **0.9** и `top_k` около **50** (или даже ниже, например 20-30), если доступно.\n3.  **Max_new_tokens:**\n    *   `1024` является разумным значением. Если вы заметите, что JSON-ответы обрезаются (незакончены), то стоит увеличить этот параметр. В противном случае, его можно оставить или даже немного уменьшить, если средняя длина ответа значительно меньше 1024 токенов, для экономии ресурсов.\n\n---\n\n### 6. Общие рекомендации по улучшению качества\n\n1.  **Детальный анализ ошибок (Manual Error Analysis):**\n    *   Самое важное: вручную проанализируйте выборку из тестового набора, где модель ошиблась (пропустила данные или извлекла некорректно).\n    *   **Что конкретно пропущено?** (Например, \"Количество штук\", \"Марка\", \"ТУ\", \"Плотность\").\n    *   **Почему это пропущено?** (Нестандартная формулировка? Нет примера в промпте? Амбивалентность текста?).\n    *   Этот анализ напрямую подскажет, какие дополнительные примеры или уточнения в промпте нужны.\n2.  **Увеличение объема и разнообразия обучающих примеров (few-shot examples):**\n    *   Чем больше качественных и разнообразных примеров (особенно для \"прочего\"), тем лучше модель будет обобщать.\n    *   Создайте синтетические примеры, которые целенаправленно тренируют модель на те типы данных, где она сейчас ошибается.\n3.  **Использование Chain of Thought (CoT) Prompting (опционально):**\n    *   Для очень сложных текстов можно попробовать добавить в промпт инструкцию, чтобы модель сначала \"подумала\" или \"объяснила свой ход мыслей\" перед генерацией JSON. Например: \"Сначала найди все численные данные, объясни, что они означают, а затем сформируй JSON.\" Это может улучшить качество извлечения за счет большей внутренней обработки, но увеличит количество токенов и время ответа.\n4.  **Разделение задач (если возможно):**\n    *   Если производительность не улучшится, можно рассмотреть подход, где первая модель извлекает все числовые данные и их контекст (например, в виде списка кортежей `(число, единица, окружающий_текст)`), а вторая модель затем категоризирует их и формирует JSON. Это усложняет архитектуру, но может повысить точность каждого шага.\n5.  **Тонкая настройка (Fine-tuning) модели (если есть достаточно данных):**\n    *   Если у вас есть большой набор данных с размеченными примерами (десятки-сотни тысяч), тонкая настройка gemma-3-27b на вашей задаче даст значительно лучшие результаты, чем pure few-shot prompting. Это дорого и ресурсоемко, но обеспечивает наивысшее качество.\n6.  **Пост-обработка результатов:**\n    *   Даже с улучшенным промптом и гиперпараметрами, иногда модель может допускать небольшие ошибки (например, неправильно названный `параметр` в \"прочее\"). Легкие скрипты пост-обработки могут стандартизировать эти данные или исправить частые опечатки.\n\nПроведение этих шагов, начиная с детального анализа ошибок и оптимизации промпта с гиперпараметрами, должно значительно улучшить качество извлечения данных.",
  "model_used": "gemini-2.5-flash",
  "parsing_errors_count": 0,
  "hyperparameters": {
    "max_new_tokens": 1024,
    "model_name": "gemma-3-27b-it",
    "api_model": true
  },
  "prompts": {
    "prompt_template": "build_prompt3",
    "prompt_full_text": "\nТы — эксперт по извлечению численных и количественных характеристик из текстов о химических веществах и удобрениях.  \nТвоя задача:  \n\n1. Найти все численные признаки в тексте, например:  \n   - Массовую долю элементов (массовая доля N, массовая доля P2O5 и др.) в процентах.  \n   - Количество товара (кг, т, п/э мешки, вагон и др.).  \n   - Прочие численные показатели, указанные в тексте (марки, стандарты (ТУ, ГОСТ и др.), идентификаторы).  \n\n2. Выведи json по аналогии с этими примерами:\nТекст примера 1: УДОБРЕНИЯ МИНЕРАЛЬНЫЕ ИЛИ ХИМИЧЕСКИЕ, СОДЕРЖАЩИЕ TРИ ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА: АЗОТ, ФОСФОР И КАЛИЙ. УДОБРЕНИЕ БОНА ФОРТЕ ЗДОРОВЬЕ 10МЛ УНИВЕРСАЛЬНОЕ 25ШТ/75ШТ. СОСТАВ: ТРИ ОСНОВНЫХ МАКРОЭЛЕМЕНТА (NPK): АЗОТ (N) - 6 %, ФОСФОР (P2O5) - 3 %, КАЛИЙ (K2O) - 7 %, ГУМИНОВЫЕ КИСЛОТЫ: ГУМАТ - 0,5 %. МИКРОЭЛЕМЕНТЫ: БОР, ЖЕЛЕЗО, МАРГАНЕЦ, ЦИНК, МЕДЬ, МОЛИБДЕН , КОБАЛЬТ, А ТАКЖЕ КАЛЬЦИЙ И МАГНИЙ. ИЗ НИХ ШЕСТЬ МИКРОЭЛЕМЕНТОВ В ХЕЛАТНОЙ ФОРМЕ: (ЖЕЛЕЗО, МАРГАНЕЦ, ЦИНК, МЕДЬ, МОЛИБДЕН, КОБАЛЬТ) УДОБРЕНИЕ БОНА ФОРТЕ КРАСОТА 10МЛ ДЛЯ ДЕКОРАТИВНО-ЛИСТВЕННЫХ РАСТЕНИЙ 25ШТ/75ШТ. СПЕЦИАЛИЗИРОВАННОЕ КОМПЛЕКСНОЕ ЖИДКОЕ УДОБРЕНИЕ С МИКРОЭЛЕМЕНТАМИ. СОСТАВ: АЗОТ (N) - 5 %, ФОСФОР (P2O5) - 3 %, КАЛИЙ (K2O) - 4 %. ОСНОВНОЙ МЕЗОЭЛЕМЕНТ: МАГНИЙ (MGO) - 1 %. СЕМЬ МИКРОЭЛЕМЕНТОВ В ХЕЛАТНОЙ ФОРМЕ: БОР, ЖЕЛЕЗО, МАРГАНЕЦ, ЦИНК, МЕДЬ, МОЛИБДЕН И КОБАЛЬТ. КОМПЛЕКС ВИТАМИНОВ: B1, PP, С. СТИМУЛЯТОР РОСТА: ЯНТАРНАЯ КИСЛОТА. УДОБРЕНИЕ БОНА ФОРТЕ КРАСОТА 10МЛ ДЛЯ КОМНАТНЫХ РАСТЕНИЙ 25ШТ/75ШТ. \"СОСТАВ: АЗОТ (N) - 6 %, ФОСФОР (P2O5) - 3 %, КАЛИЙ (K2O) - 7 %. ОСНОВНОЙ МЕЗОЭЛЕМЕНТ: МАГНИЙ (MGO) - 1,5 % СЕМЬ МИКРОЭЛЕМЕНТОВ В ХЕЛАТНОЙ ФОРМЕ: БОР, ЖЕЛЕЗО, МАРГАНЕЦ, ЦИНК, МЕДЬ, МОЛИБДЕН И КОБАЛЬТ. КОМПЛЕКС ВИТАМИНОВ: B1, PP, С СТИМУЛЯТОР РОСТА: ЯНТАРНАЯ КИСЛОТА.\" УДОБРЕНИЕ БУЙСКОЕ ЖКУ 0,2Л ЦВЕТОЧНЫЙ РАЙ КАКТУСЫ/СУККУЛЕНТЫ (12). СОСТАВ: АЗОТ (N) ОБЩИЙ - 9,12 %, В Т.Ч. N-NO3 - 6,24%, N-NH4 - 2,88%. ДОП.ИНФОРМАЦИЯ: N (Г/Л): 9.12, P2O5 (Г/Л): 12.96, K2O (Г/Л): 45.6, MGO (Г/Л): 4.8 МИКРОЭЛЕМЕНТЫ: МГ/Л, FE (ДТПА) - 77.76; MN (ЭДТА) - 60.48; ZN (ЭДТА) - 20.16; CU (ЭДТА) - 14.4; MO - 5.76; B - 28.8 УДОБРЕНИЕ БУЙСКОЕ ЖКУ 0,2Л ЦВЕТОЧНЫЙ РАЙ ХВОЙНЫЕ РАСТЕНИЯ (12). \"АЗОТ (N) ОБЩИЙ - 8,64 %, В Т.Ч. N-NO3 - 7,68%, N-NH4 - 0,96%. СОСТАВ:N (Г/Л): 8.64, P2O5 (Г/Л): 16.32, K2O (Г/Л): 50.4, MGO (Г/Л): 4.32 МИКРОЭЛЕМЕНТЫ: МГ/Л, FE (ДТПА) - 77.76; MN (ЭДТА) - 60.48; ZN (ЭДТА) - 20.16; CU (ЭДТА) - 14.4; MO - 5.76; B - 28.8 ВНЕШНИЙ ВИД: ЖИДКОСТЬ ЗЕЛЕНОГО ЦВЕТА\" УДОБРЕНИЕ БУЙСКОЕ ЖКУ 0,5Л ЧУДО-СПРЕЙ УНИВЕРСАЛЬНЫЙ (12). \"СОСТАВ: N (Г/Л): 0.23, P2O5 (Г/Л): 0.23, K2O (Г/Л): 0.34, MGO (Г/Л): 0.024 МИКРОЭЛЕМЕНТЫ: МГ/Л, FE (ДТПА) - 0.78; MN (ЭДТА) - 0.6; ZN (ЭДТА) - 0.2; CU (ЭДТА) - 0.14; MO - 0.06; B - 0.28 ВНЕШНИЙ ВИД: ЖИДКОСТЬ ЗЕЛЕНОВАТОГО ЦВЕТА\" УДОБРЕНИЕ СЖ КОУ 0,3Л ДЛЯ ХВОЙНЫХ/СИЛА ЖИЗНИ (8). СОСТАВ: ОРГАНИЧЕСКИЕ ВЕЩЕСТВА *: 35 %, АЗОТ (N): 2 %, ФОСФОР (P2O5): 3 %, КАЛИЙ (K2O): 7 %, МАГНИЙ (MGO): 2 %, БОР (B): 0,2 %, МЕДЬ (CU): 0,5 %, КОБАЛЬТ (CO): 0,02 %, ЖЕЛЕЗО (FE): 0,8 %, МАРГАНЕЦ (MN ): 0,6 %, МОЛИБДЕН (MO): 0,02 %, ЦИНК (ZN): 1 % УДОБРЕНИЕ СЖ КОУ 0,3Л ДЛЯ ЦВЕТОВ И ДЕКОРАТ-ЦВЕТУЩИХ/СИЛА ЖИЗНИ (8). \"СОСТАВ, %: МАКРО-МИКРОЭЛЕМЕНТЫ В КОМПЛЕКСНОМ СОЕДИНЕНИИ С АМИНОКИСЛОТАМИ (АМИНОХЕЛАТЫ), ГЛЮКОНОВОЙ КИСЛОТОЙ (ГЛЮКОНАТЫ). АЗОТ (N) 10 %, ФОСФОР (P2O5) 5 %, КАЛИЙ ( K2O ) 7 %, КАЛЬЦИЙ (CAO) 2 %, МАГНИЙ (MGO) 1 %, БОР (B) 0,02 %, МЕДЬ (CU) 0,5 %, КОБАЛЬТ (CO) 0,02 %, ЖЕЛЕЗО (FE) 0,8 %, МАРГАНЕЦ (MN) 0,6 %, МОЛИБДЕН (MO) 0,02 %, ЦИНК (ZN) 1%, ОРГАНИЧЕСКИЕ ВЕЩЕСТВА - 35 %. В ТОМ ЧИСЛЕ АМИНОКИСЛОТЫ, ВИТАМИНЫ: C, В1, В3, В12, ПОЛИСАХАРИДЫ, ГИДРОКСИКАРБОНОВЫЕ, ГУМИНОВЫЕ И ФУЛЬВОКИСЛОТЫ.\" УДОБРЕНИЕ СЖ КОУ 0,3Л ДЛЯ ЦИТРУСОВЫХ/СИЛА ЖИЗНИ (8). \"СОСТАВ, %: МАКРО-МИКРОЭЛЕМЕНТЫ В КОМПЛЕКСНОМ СОЕДИНЕНИИ С АМИНОКИСЛОТАМИ (АМИНОХЕЛАТЫ), ГЛЮКОНОВОЙ КИСЛОТОЙ (ГЛЮКОНАТЫ). АЗОТ (N) 10 %, ФОСФОР (P2O5) 5 %, КАЛИЙ ( K2O ) 7 %, КАЛЬЦИЙ (CAO) 2 %, МАГНИЙ (MGO) 1 %, БОР (B) 0,02 %, МЕДЬ (CU) 0,5 %, КОБАЛЬТ (CO) 0,02 %, ЖЕЛЕЗО (FE) 0,8 %, МАРГАНЕЦ (MN) 0,6 %, МОЛИБДЕН (MO) 0,02 %, ЦИНК (ZN) 1%, ОРГАНИЧЕСКИЕ ВЕЩЕСТВА - 35 %. В ТОМ ЧИСЛЕ АМИНОКИСЛОТЫ, ВИТАМИНЫ: C, В1, В3, В12, ПОЛИСАХАРИДЫ, ГИДРОКСИКАРБОНОВЫЕ, ГУМИНОВЫЕ И ФУЛЬВОКИСЛОТЫ.\"\nОтвет примера 1: \n{\n  \"массовая доля\": [\n    {\"вещество\": \"N\", \"массовая доля\": 6},\n    {\"вещество\": \"P2O5\", \"массовая доля\": 3},\n    {\"вещество\": \"K2O\", \"массовая доля\": 7},\n    {\"вещество\": \"гумат\", \"массовая доля\": 0.5},\n\n    {\"вещество\": \"N\", \"массовая доля\": 5},\n    {\"вещество\": \"P2O5\", \"массовая доля\": 3},\n    {\"вещество\": \"K2O\", \"массовая доля\": 4},\n    {\"вещество\": \"MgO\", \"массовая доля\": 1},\n\n    {\"вещество\": \"N\", \"массовая доля\": 6},\n    {\"вещество\": \"P2O5\", \"массовая доля\": 3},\n    {\"вещество\": \"K2O\", \"массовая доля\": 7},\n    {\"вещество\": \"MgO\", \"массовая доля\": 1.5},\n\n    {\"вещество\": \"N\", \"массовая доля\": 9.12},\n    {\"вещество\": \"NO3-\", \"массовая доля\": 6.24},\n    {\"вещество\": \"NH4+\", \"массовая доля\": 2.88},\n\n    {\"вещество\": \"N\", \"массовая доля\": 8.64},\n    {\"вещество\": \"NO3-\", \"массовая доля\": 7.68},\n    {\"вещество\": \"NH4+\", \"массовая доля\": 0.96},\n\n    {\"вещество\": \"органические вещества\", \"массовая доля\": 35},\n    {\"вещество\": \"N\", \"массовая доля\": 2},\n    {\"вещество\": \"P2O5\", \"массовая доля\": 3},\n    {\"вещество\": \"K2O\", \"массовая доля\": 7},\n    {\"вещество\": \"MgO\", \"массовая доля\": 2},\n    {\"вещество\": \"B\", \"массовая доля\": 0.2},\n    {\"вещество\": \"Cu\", \"массовая доля\": 0.5},\n    {\"вещество\": \"Co\", \"массовая доля\": 0.02},\n    {\"вещество\": \"Fe\", \"массовая доля\": 0.8},\n    {\"вещество\": \"Mn\", \"массовая доля\": 0.6},\n    {\"вещество\": \"Mo\", \"массовая доля\": 0.02},\n    {\"вещество\": \"Zn\", \"массовая доля\": 1},\n\n    {\"вещество\": \"N\", \"массовая доля\": 10},\n    {\"вещество\": \"P2O5\", \"массовая доля\": 5},\n    {\"вещество\": \"K2O\", \"массовая доля\": 7},\n    {\"вещество\": \"CaO\", \"массовая доля\": 2},\n    {\"вещество\": \"MgO\", \"массовая доля\": 1},\n    {\"вещество\": \"B\", \"массовая доля\": 0.02},\n    {\"вещество\": \"Cu\", \"массовая доля\": 0.5},\n    {\"вещество\": \"Co\", \"массовая доля\": 0.02},\n    {\"вещество\": \"Fe\", \"массовая доля\": 0.8},\n    {\"вещество\": \"Mn\", \"массовая доля\": 0.6},\n    {\"вещество\": \"Mo\", \"массовая доля\": 0.02},\n    {\"вещество\": \"Zn\", \"массовая доля\": 1},\n    {\"вещество\": \"органические вещества\", \"массовая доля\": 35}\n  ],\n  \"прочее\": [\n    {\"параметр\": \"объем нетто единицы\", \"объем\": 10, \"единица\": \"мл\"},\n    {\"параметр\": \"количество единиц\", \"количество\": 25, \"единица\": \"шт\"},\n    {\"параметр\": \"количество единиц\", \"количество\": 75, \"единица\": \"шт\"},\n\n    {\"параметр\": \"объем нетто единицы\", \"объем\": 0.2, \"единица\": \"л\"},\n    {\"параметр\": \"количество единиц\", \"количество\": 12, \"единица\": \"шт\"},\n    {\"параметр\": \"концентрация N\", \"значение\": 9.12, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация P2O5\", \"значение\": 12.96, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация K2O\", \"значение\": 45.6, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация MgO\", \"значение\": 4.8, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация Fe\", \"значение\": 77.76, \"единица\": \"мг/л\"},\n    {\"параметр\": \"концентрация Mn\", \"значение\": 60.48, \"единица\": \"мг/л\"},\n    {\"параметр\": \"концентрация Zn\", \"значение\": 20.16, \"единица\": \"мг/л\"},\n    {\"параметр\": \"концентрация Cu\", \"значение\": 14.4, \"единица\": \"мг/л\"},\n    {\"параметр\": \"концентрация Mo\", \"значение\": 5.76, \"единица\": \"мг/л\"},\n    {\"параметр\": \"концентрация B\", \"значение\": 28.8, \"единица\": \"мг/л\"},\n\n    {\"параметр\": \"объем нетто единицы\", \"объем\": 0.5, \"единица\": \"л\"},\n    {\"параметр\": \"количество единиц\", \"количество\": 12, \"единица\": \"шт\"},\n    {\"параметр\": \"концентрация N\", \"значение\": 0.23, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация P2O5\", \"значение\": 0.23, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация K2O\", \"значение\": 0.34, \"единица\": \"г/л\"},\n    {\"параметр\": \"концентрация MgO\", \"значение\": 0.024, \"единица\": \"г/л\"},\n\n    {\"параметр\": \"объем нетто единицы\", \"объем\": 0.3, \"единица\": \"л\"},\n    {\"параметр\": \"количество единиц\", \"количество\": 8, \"единица\": \"шт\"}\n  ]\n}\n\n\nТекст примера 2: АГРОХИМИКАT ЯРА ЛИВА МАРКИ:КАЛЬЦИНИТ (КАЛЬЦИЕВАЯ СЕЛИТРА) НИТРАБОР. ВЫВОЗИТСЯ ДЛЯ УДОБРЕНИЯ ДЕРЕВЬЕВ В ЯБЛОНЕВОМ САДУ. НЕ КУЛЬТУРНАЯ ЦЕННОСТЬ. НЕ ВОЕННОГО НАЗНАЧЕНИЯ. ДЛЯ ОБЩЕГРАЖДАНСКИХ ЦЕЛЕЙ.. АГРОХИМИКАТ НИТРАБОР (КАЛЬЦИЕВАЯ СЕЛИТРА). СОСТАВ: АЗОТ ОБЩИЙ (N) 15.5% ((АЗОТ НИТРАТНЫЙ (N)14.4%,АЗОТ АММОНИЙНЫЙ (N) 1.1%)), КАЛЬЦИЙ ВОДОРАСТВОРИМЫЙ В ВИДЕ СА 18.6%, В ВИДЕ САО 26.6%,ВОДОРАСТВОРИМЫЙ БОР (В) 0.3%.\nОтвет примера 2: {\n  \"массовая доля\": [\n    {\n      \"вещество\": \"N\",\n      \"массовая доля\": 15.5\n    },\n    {\n      \"вещество\": \"NO3-\",\n      \"массовая доля\": 14.4\n    },\n    {\n      \"вещество\": \"NH4+\",\n      \"массовая доля\": 1.1\n    },\n    {\n      \"вещество\": \"Ca\",\n      \"массовая доля\": 18.6\n    },\n    {\n      \"вещество\": \"CaO\",\n      \"массовая доля\": 26.6\n    },\n    {\n      \"вещество\": \"B\",\n      \"массовая доля\": 0.3\n    }\n  ]\n}\n\nТекст примера 3: НИТРАТ КАЛЬЦИЯ ГPАНУЛИРОВАННЫЙ 2-ВОДНЫЙ МАРКА А, 5CA(NO3)2XNH4NO3X10H2O,ТОВАРНЫЙ ЗНАК \"БУЙСКИЕ УДОБРЕНИЯ\", ТУ 2181-073-32496445-2013, СМ.ДОПОЛНЕНИЕ. НАИМЕНОВАНИЕ ПОКАЗАТЕЛЕЙ:МАС.ДОЛЯ КАЛЬЦИЯ,CA,%,НЕ МЕНЕЕ- 19.7; НИТРАТ.,N,%,НЕ МЕНЕЕ- 15.1; МАС.ДОЛЯ НЕРАСТВ. В ВОДЕ ОСТАТКА,%, НЕ БОЛЕЕ- 0.03 - 20000 КГ (1000 П/Э МЕШ. ПО 20 КГ, ВЕС П/Э МЕШ.- 100 КГ), УЛОЖЕННЫЕ НА 20 ПОДДОНОВ, ЗАТЯНУТЫЕ СТРЕЙЧ- ПЛЁНКОЙ, ВЕСОМ 520 КГ, ГРАНУЛЫ ПОЛУСФЕРИЧЕСКОЙ ФОРМЫ БЕЛОГО ЦВЕТА, ПРИМЕНЯЕТСЯ КАК АЗОТНОКАЛЬЦИЕВОЕ УДОБРЕНИЕ.\nОтвет примера 3: \n{\n  \"массовая доля\": [\n    {\n      \"вещество\": \"Ca\",\n      \"массовая доля\": [19.7, null]\n    },\n    {\n      \"вещество\": \"N\",\n      \"массовая доля\": [15.1, null]\n    },\n    {\n      \"вещество\": \"нерастворимый в воде остаток\",\n      \"массовая доля\": [null, 0.03]\n    }\n  ],\n  \"прочее\": [\n    {\n      \"параметр\": \"масса нетто\",\n      \"масса\": 20000,\n      \"единица\": \"кг\"\n    },\n    {\n      \"параметр\": \"количество мешков\",\n      \"количество\": 1000,\n      \"единица\": \"шт\"\n    },\n    {\n      \"параметр\": \"масса нетто единицы\",\n      \"масса\": 20,\n      \"единица\": \"кг\"\n    },\n    {\n      \"параметр\": \"масса п/э мешков\",\n      \"масса\": 100,\n      \"единица\": \"кг\"\n    },\n    {\n      \"параметр\": \"количество поддонов\",\n      \"количество\": 20,\n      \"единица\": \"шт\"\n    },\n    {\n      \"параметр\": \"масса стрейч плёнки\",\n      \"масса\": 520,\n      \"единица\": \"кг\"\n    },\n    {\n      \"параметр\": \"стандарт\",\n      \"значение\": \"ТУ 2181-073-32496445-2013\"\n    }\n  ]\n}\n\nТекст примера 4: МИНЕРАЛЬНОЕ УДОБРЕНИЕ ТУКОСМЕСЬ \"FOSAMOFERT\" СОДЕРЖАЩИЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА ФОСФОР И АЗОТ, ГРАНУЛИРОВАННОЕ,В 18 БИГ-БЭГАХ, МИНЕРАЛЬНОЕ УДОБРЕНИЕ ТУКОСМЕСЬ \"FOSAMOFERT\" СОДЕРЖАЩИЕ ДВА ПИТАТЕЛЬНЫХ ЭЛЕМЕНТА ФОСФОР И АЗОТ, ГРАНУЛИРОВАННОЕ,В 18 БИГ-БЭГАХ\nОтвет примера 4: \n{\n  \"прочее\": [\n    {\n      \"параметр\": \"количество биг-бэгов\",\n      \"количество\": 18,\n      \"единица\": \"шт\"\n    }\n  ]\n}\n\nТекст примера 5: СУЛЬФАТ АММОНИЯ МАРКИ: ГРАНУЛИРОВАННЫЙ / MАССОВАЯ ДОЛЯ АЗОТА -20,5 +/- 0,5% ТУ-2181-694-00209438-2015, НИТРАТЫ ОТСУТСТВУЮТ.. :\nОтвет примера 5: \n{\n  \"массовая доля\": [\n    {\n      \"вещество\": \"N\",\n      \"массовая доля\": [20.0, 21.0]\n    }\n  ],\n  \"прочее\": [\n    {\n      \"параметр\": \"стандарт\",\n      \"значение\": \"ТУ-2181-694-00209438-2015\"\n    }\n  ]\n}\n\n3. Выводи json результат **только после слова ОТВЕТ:**.\n\nТекст для анализа:\nКАЛИЙ СЕРНОКИСЛЫЙ ИЗ НЕФЕЛИНОВОГО СЫPЬЯ ТУ 20.15.52-089-05785164-2022, ПРЕДНАЗНАЧЕН ДЛЯ ПРИМЕНЕНИЯ В КАЧЕСТВЕ МИНЕРАЛЬНОГО УДОБРЕНИЯ В СЕЛЬСКОМ ХОЗЯЙСТВЕ, ПОЛУЧАЮТ ИЗ ВЕТВИ ТЕХНОЛОГИЧЕСКОГО ПРОЦЕССА ПРОИЗВОДСТВА СОДОПРОДУКТОВ ИЗ РАСТВОРОВ ГЛИНОЗЕМНОГО ПРОИЗВОДСТВА\n",
    "prompt_info": null
  },
  "system_info": {
    "api_model": true,
    "multi_agent_mode": null,
    "gpu_info": {
      "api": true
    },
    "gpu_memory_during_inference_gb": 0.0,
    "average_response_time_seconds": 42.455328540802
  },
  "quality_metrics_summary": {
    "массовая доля": {
      "accuracy": 0.7245241530955817,
      "precision": 0.7545787545787546,
      "recall": 0.6889632107023411,
      "f1": 0.7202797202797202
    },
    "прочее": {
      "accuracy": 0.48911165223665226,
      "precision": 0.6372549019607843,
      "recall": 0.5882352941176471,
      "f1": 0.6117647058823529
    }
  }
}